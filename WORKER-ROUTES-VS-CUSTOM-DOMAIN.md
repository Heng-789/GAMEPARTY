# üîß Workers Routes vs Custom Domain

## ‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö

```
Error: "This domain is already in use. Please delete the corresponding record in DNS settings"
```

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏° Custom domain ‡πÉ‡∏ô Workers & Pages ‡πÅ‡∏ï‡πà domain `img.heng36.party` ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß (‡∏°‡∏µ CNAME record ‡∏≠‡∏¢‡∏π‡πà)

---

## ‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: ‡πÉ‡∏ä‡πâ Routes ‡πÅ‡∏ó‡∏ô Custom Domain

### ‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Routes?

**Custom Domain:**
- ‚ùå ‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏ö CNAME record ‡∏Å‡πà‡∏≠‡∏ô
- ‚ùå ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° Custom domain ‡πÉ‡∏ô Workers
- ‚ö†Ô∏è ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏ß‡πà‡∏≤

**Routes (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥):**
- ‚úÖ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏ö CNAME record
- ‚úÖ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° Custom domain
- ‚úÖ ‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤ ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏Å‡∏ß‡πà‡∏≤
- ‚úÖ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤

---

## üéØ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á: ‡πÉ‡∏ä‡πâ Routes

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° Custom Domain

**‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥:**
- ‚ùå ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° Custom domain ‡πÉ‡∏ô Workers & Pages
- ‚ùå ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏ö CNAME record

**‡∏ó‡∏≥‡πÅ‡∏Ñ‡πà‡∏ô‡∏µ‡πâ:**
- ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ CNAME record: `img` ‚Üí `ipflzfxezdzbmoqglknu.supabase.co` (Proxied)
- ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Routes ‡πÉ‡∏ô Workers

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Routes

**‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á Worker ‡πÅ‡∏•‡πâ‡∏ß:**

1. **‡πÄ‡∏Ç‡πâ‡∏≤ Worker ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ**
   - ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `supabase-storage-cdn-multi-theme`
   - ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö **Triggers**

2. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Routes (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Custom Domain)**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Add route** ‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô **Routes**
   - **‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà** Custom Domain!

3. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Route**
   - **Route**: `img.heng36.party/game-images/*`
   - **Zone**: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `heng36.party`
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Add route**

4. **‡∏ó‡∏≥‡∏ã‡πâ‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö theme ‡∏≠‡∏∑‡πà‡∏ô** (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
   - `img.max56.party/game-images/*`
   - `img.jeed24.party/game-images/*`

---

## üìä ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö

| ‡∏ß‡∏¥‡∏ò‡∏µ | Custom Domain | Routes (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥) |
|-----|--------------|----------------|
| **‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏ö CNAME?** | ‚ùå ‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏ö | ‚úÖ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏ö |
| **‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° Custom Domain?** | ‚úÖ ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° | ‚ùå ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° |
| **‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô** | ‚ö†Ô∏è ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô | ‚úÖ ‡∏á‡πà‡∏≤‡∏¢ |
| **‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô** | ‚ö†Ô∏è ‡∏à‡∏≥‡∏Å‡∏±‡∏î | ‚úÖ ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô |

---

## ‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡∏™‡∏£‡∏∏‡∏õ)

### 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ DNS CNAME (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏ö)
```
Type: CNAME
Name: img
Target: ipflzfxezdzbmoqglknu.supabase.co
Proxy: Proxied (‡∏™‡πâ‡∏°)
```

### 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á Worker
- ‡∏ä‡∏∑‡πà‡∏≠: `supabase-storage-cdn-multi-theme`
- Copy code ‡∏à‡∏≤‡∏Å `cloudflare-worker-advanced.js`

### 3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Routes (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Custom Domain)
- ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Worker ‚Üí **Triggers** ‚Üí **Routes**
- ‡∏Ñ‡∏•‡∏¥‡∏Å **Add route**
- Route: `img.heng36.party/game-images/*`
- Zone: `heng36.party`

**‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á:**
- ‚ùå ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° Custom Domain
- ‚ùå ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏ö CNAME record

---

## üîß ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Error

### ‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô Error "This domain is already in use":

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. **‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° Custom Domain**
2. **‡πÉ‡∏ä‡πâ Routes ‡πÅ‡∏ó‡∏ô**
3. **‡πÄ‡∏Å‡πá‡∏ö CNAME record ‡πÑ‡∏ß‡πâ** (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏ö)

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:**
1. ‡∏õ‡∏¥‡∏î dialog "Custom domain" (‡∏Ñ‡∏•‡∏¥‡∏Å X)
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Worker ‚Üí **Triggers** ‚Üí **Routes**
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **Add route**
4. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Route: `img.heng36.party/game-images/*`

---

## üìù ‡∏™‡∏£‡∏∏‡∏õ

### ‚ùå ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥:
- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° Custom Domain ‡πÉ‡∏ô Workers & Pages
- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏ö CNAME record

### ‚úÖ ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥:
- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ CNAME record: `img` ‚Üí `ipflzfxezdzbmoqglknu.supabase.co` (Proxied)
- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Routes ‡πÉ‡∏ô Workers: `img.heng36.party/game-images/*`

---

**‡∏™‡∏£‡∏∏‡∏õ: ‡πÉ‡∏ä‡πâ Routes ‡πÅ‡∏ó‡∏ô Custom Domain - ‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤!**

