# üî• ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Firebase Indexes ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö RTDB Optimization

## üìã ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°

‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Indexes ‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö optimization ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß

---

## ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

**Firebase Realtime Database (RTDB)** ‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö indexing ‡∏ó‡∏µ‡πà‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å **Firestore**:

- **RTDB**: ‡πÉ‡∏ä‡πâ `.indexOn` ‡πÉ‡∏ô Database Rules
- **Firestore**: ‡πÉ‡∏ä‡πâ Composite Indexes (‡∏ï‡∏≤‡∏°‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡πà‡∏á‡∏°‡∏≤)

**‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ ‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ RTDB ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Indexes ‡πÉ‡∏ô Database Rules ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÉ‡∏ô Firestore Console**

---

## üéØ Indexes ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á (3 ‡∏à‡∏∏‡∏î - ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÅ‡∏•‡πâ‡∏ß)

### ‚úÖ **‡∏™‡∏£‡∏∏‡∏õ:** ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á indexes ‡∏ó‡∏±‡πâ‡∏á 3 ‡∏à‡∏∏‡∏î‡∏ô‡∏µ‡πâ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏û‡∏£‡∏≤‡∏∞:

1. **BingoGame Cards Index** - ‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢‡∏°‡∏≤‡∏Å (‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏ô Bingo)
2. **LiveChat Index** - ‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢‡∏°‡∏≤‡∏Å (‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î chat)
3. **LoyKrathongGame Krathongs Index** - ‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢ (‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏ô Loy Krathong)

**Queries ‡∏≠‡∏∑‡πà‡∏ô‡πÜ** ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ `orderByChild` ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á index:
- `answers/{gameId}` (‡πÉ‡∏ä‡πâ `ts`) - ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢ ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ dateKey sharding ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
- Queries ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ `get()` (‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß) ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á index

---

### 1. BingoGame Cards Index (Phase 1) ‚≠ê **Critical**

**Path:** `games/{gameId}/bingo/cards`  
**Index Key:** `userId`

**‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå:** Query ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á  
**Query ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ:**
```typescript
query(
  cardsRef,
  orderByChild('userId'),
  equalTo(userId),
  limitToLast(10)
)
```

**‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á:** ‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢‡∏°‡∏≤‡∏Å (‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏ô Bingo) ‡πÅ‡∏•‡∏∞‡∏•‡∏î download ‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á:**

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [Firebase Console](https://console.firebase.google.com/)
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Realtime Database** > **Rules** (‡∏´‡∏£‡∏∑‡∏≠ **Database** > **Rules**)
4. ‡πÄ‡∏û‡∏¥‡πà‡∏° `.indexOn` ‡πÉ‡∏ô rules:

```json
{
  "rules": {
    "games": {
      "$gameId": {
        "bingo": {
          "cards": {
            ".indexOn": ["userId"]
          }
        }
      }
    }
  }
}
```

**‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡∏°‡∏µ rules ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°:**

```json
{
  "rules": {
    // ... existing rules ...
    "games": {
      "$gameId": {
        "bingo": {
          "cards": {
            ".indexOn": ["userId"]
          }
        }
      }
    }
    // ... existing rules ...
  }
}
```

5. ‡∏Ñ‡∏•‡∏¥‡∏Å **Publish** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å

---

### 2. LiveChat Index (Phase 2) ‚≠ê **Critical**

**Path:** `chat/{gameId}`  
**Index Key:** `timestamp`

**‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå:** Query ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î 50 ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°  
**Query ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ:**
```typescript
query(
  chatRef,
  orderByChild('timestamp'),
  limitToLast(50)
)
```

**‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á:** ‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢‡∏°‡∏≤‡∏Å (‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î chat) ‡πÅ‡∏•‡∏∞‡∏•‡∏î download ‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞ 50 ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á:**

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Realtime Database** > **Rules**
2. ‡πÄ‡∏û‡∏¥‡πà‡∏° `.indexOn` ‡πÉ‡∏ô rules:

```json
{
  "rules": {
    "chat": {
      "$gameId": {
        ".indexOn": ["timestamp"]
      }
    }
  }
}
```

**‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡∏°‡∏µ rules ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß:**

```json
{
  "rules": {
    // ... existing rules ...
    "chat": {
      "$gameId": {
        ".indexOn": ["timestamp"]
      }
    }
    // ... existing rules ...
  }
}
```

3. ‡∏Ñ‡∏•‡∏¥‡∏Å **Publish**

---

### 3. LoyKrathongGame Krathongs Index (Phase 6) ‚≠ê **High Priority**

**Path:** `krathongs/{gameId}/recent`  
**Index Key:** `timestamp`

**‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå:** Query ‡∏Å‡∏£‡∏∞‡∏ó‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î 50 ‡∏Å‡∏£‡∏∞‡∏ó‡∏á  
**Query ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ:**
```typescript
query(
  krathongsRef,
  orderByChild('timestamp'),
  limitToLast(50)
)
```

**‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á:** ‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢ (‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏ô Loy Krathong) ‡πÅ‡∏•‡∏∞‡∏•‡∏î download ‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞ 50 ‡∏Å‡∏£‡∏∞‡∏ó‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á:**

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Realtime Database** > **Rules**
2. ‡πÄ‡∏û‡∏¥‡πà‡∏° `.indexOn` ‡πÉ‡∏ô rules:

```json
{
  "rules": {
    "krathongs": {
      "$gameId": {
        "recent": {
          ".indexOn": ["timestamp"]
        }
      }
    }
  }
}
```

**‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡∏°‡∏µ rules ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß:**

```json
{
  "rules": {
    // ... existing rules ...
    "krathongs": {
      "$gameId": {
        "recent": {
          ".indexOn": ["timestamp"]
        }
      }
    }
    // ... existing rules ...
  }
}
```

3. ‡∏Ñ‡∏•‡∏¥‡∏Å **Publish**

---

## üìù ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Rules ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏£‡∏ß‡∏°‡∏Å‡∏±‡∏ô)

```json
{
  "rules": {
    // ... existing rules ...
    
    // ‚úÖ BingoGame Cards Index
    "games": {
      "$gameId": {
        "bingo": {
          "cards": {
            ".indexOn": ["userId"]
          }
        }
      }
    },
    
    // ‚úÖ LiveChat Index
    "chat": {
      "$gameId": {
        ".indexOn": ["timestamp"]
      }
    },
    
    // ‚úÖ LoyKrathongGame Krathongs Index
    "krathongs": {
      "$gameId": {
        "recent": {
          ".indexOn": ["timestamp"]
        }
      }
    }
    
    // ... existing rules ...
  }
}
```

---

## üîç ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Index ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏ô Console

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Realtime Database** > **Data**
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ warning ‡∏´‡∏£‡∏∑‡∏≠ error ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö index ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
3. ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ warning ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö "index" ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÉ‡∏´‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á index

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏ô Browser Console

1. ‡πÄ‡∏õ‡∏¥‡∏î Developer Tools (F12)
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Console
3. ‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏°‡∏µ warning ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö index ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà:

```
‚ö†Ô∏è Bingo cards query requires index. Using fallback (listening to all cards). 
Please create index in Firebase Console: [error details]
```

‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô warning ‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ index ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Performance

- **‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á index:** Query ‡∏≠‡∏≤‡∏à‡∏ä‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ fallback (listen ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)
- **‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á index:** Query ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô

---

## ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏

1. **Index ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö:** ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á index code ‡∏à‡∏∞‡πÉ‡∏ä‡πâ fallback (listen ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î) ‡πÅ‡∏ï‡πà‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ download ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô

2. **Index ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤:** ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á index ‡πÅ‡∏•‡πâ‡∏ß Firebase ‡∏≠‡∏≤‡∏à‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á index (‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏¢‡∏≠‡∏∞)

3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Rules:** ‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤ Rules ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô path ‡∏ô‡∏±‡πâ‡∏ô‡πÜ ‡∏î‡πâ‡∏ß‡∏¢

---

## üéØ ‡∏™‡∏£‡∏∏‡∏õ Indexes ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á

| # | Path | Index Key | Phase | Priority | ‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á |
|---|------|-----------|-------|----------|---------------|
| 1 | `games/{gameId}/bingo/cards` | `userId` | Phase 1 | ‚≠ê‚≠ê‚≠ê Critical | ‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢‡∏°‡∏≤‡∏Å + ‡∏•‡∏î download ‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á |
| 2 | `chat/{gameId}` | `timestamp` | Phase 2 | ‚≠ê‚≠ê‚≠ê Critical | ‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢‡∏°‡∏≤‡∏Å + ‡∏•‡∏î download ‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞ 50 ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î |
| 3 | `krathongs/{gameId}/recent` | `timestamp` | Phase 6 | ‚≠ê‚≠ê High | ‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢ + ‡∏•‡∏î download ‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞ 50 ‡∏Å‡∏£‡∏∞‡∏ó‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î |

### ‚úÖ **‡∏™‡∏£‡∏∏‡∏õ:** Indexes ‡∏ó‡∏±‡πâ‡∏á 3 ‡∏à‡∏∏‡∏î‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

**Queries ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á index:**
- `answers/{gameId}` (‡πÉ‡∏ä‡πâ `ts`) - ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢ ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ dateKey sharding ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
- Queries ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ `get()` (‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß) - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á index
- Queries ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ `orderByChild` - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á index

---

## üìö ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á

- [Firebase Realtime Database Indexing](https://firebase.google.com/docs/database/security/indexing-data)
- [Firebase Realtime Database Rules](https://firebase.google.com/docs/database/security)

---

## ‚úÖ Checklist

- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á BingoGame Cards Index (`userId`)
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á LiveChat Index (`timestamp`)
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á LoyKrathongGame Krathongs Index (`timestamp`)
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Index ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Query ‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

---

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á indexes ‡πÅ‡∏•‡πâ‡∏ß ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà (1-5 ‡∏ô‡∏≤‡∏ó‡∏µ) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Firebase ‡∏™‡∏£‡πâ‡∏≤‡∏á indexes ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå

