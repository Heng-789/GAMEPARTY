# ============================================
# HENG36GAME Backend Environment Variables Template
# ============================================
# 
# Copy this to .env and fill in your values
# Windows: copy env.template .env
# Linux/Mac: cp env.template .env
#

# ============================================
# Server Configuration
# ============================================
PORT=3000
NODE_ENV=development

# ============================================
# Database Configuration (Supabase PostgreSQL)
# ============================================
# ⚠️  IMPORTANT: Add ?sslmode=require at the end for Supabase
# Get connection strings from: Supabase Dashboard > Settings > Database > Connection String (URI)

# HENG36 Database
DATABASE_URL_HENG36=postgresql://postgres.ipflzfxezdzbmoqglknu:2gg0nj4k9N59aOly@aws-1-ap-south-1.pooler.supabase.com:5432/postgres?sslmode=require

# MAX56 Database
DATABASE_URL_MAX56=postgresql://postgres.aunfaslgmxxdeemvtexn:MlmH1jKzFwEpqks8@aws-1-ap-southeast-1.pooler.supabase.com:5432/postgres?sslmode=require

# JEED24 Database
# ⚠️  Replace YOUR_PASSWORD with actual database password
DATABASE_URL_JEED24=postgresql://postgres.pyrtleftkrjxvwlbvfma:YOUR_PASSWORD@aws-1-ap-southeast-1.pooler.supabase.com:5432/postgres?sslmode=require

# Database Connection Pool Settings (Optimized for high traffic)
DB_MAX_CONNECTIONS=50
DB_MIN_CONNECTIONS=5
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=10000
DB_STATEMENT_TIMEOUT=30000
DB_QUERY_TIMEOUT=30000

# ============================================
# Redis Configuration (for caching and queues)
# ============================================
# Set REDIS_ENABLED=false to disable Redis (will use in-memory cache)
REDIS_ENABLED=true
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================
# Frontend Configuration
# ============================================
# Comma-separated list of allowed frontend URLs
FRONTEND_URL=http://localhost:5173,http://localhost:5174,http://localhost:5175

# ============================================
# Snapshot Worker Configuration
# ============================================
# How often to precompute game snapshots (in milliseconds)
SNAPSHOT_INTERVAL=30000

# ============================================
# Request Logging & Monitoring
# ============================================
LOG_THRESHOLD=1024
SLOW_QUERY_THRESHOLD=500
ENABLE_DETAILED_LOGGING=false

# ============================================
# Compression Configuration
# ============================================
ENABLE_COMPRESSION=true
COMPRESSION_THRESHOLD=1024
COMPRESSION_LEVEL=6

# ============================================
# Rate Limiting Configuration
# ============================================
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_GAMES_LIST=60
RATE_LIMIT_GAME_DETAIL=60
RATE_LIMIT_ANSWERS=30
RATE_LIMIT_CHECKINS=20
RATE_LIMIT_USERS_TOP=30
RATE_LIMIT_USERS_SEARCH=20
RATE_LIMIT_USER_DETAIL=20
RATE_LIMIT_BINGO=30

# ============================================
# Cache Duration (in seconds)
# ============================================
CACHE_DURATION_STATIC=3600
CACHE_DURATION_DYNAMIC=300
CACHE_DURATION_USER=600

# ============================================
# Bandwidth Monitoring
# ============================================
ENABLE_BANDWIDTH_MONITORING=true
BANDWIDTH_LOG_THRESHOLD=10240

# ============================================
# Supabase Storage Configuration
# ============================================
SUPABASE_URL_HENG36=https://ipflzfxezdzbmoqglknu.supabase.co
SUPABASE_ANON_KEY_HENG36=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlwZmx6ZnhlemR6Ym1vcWdsa251Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2MTAyMTgsImV4cCI6MjA3OTE4NjIxOH0.Jvq2bDs9GMZbw77KtoesdtwF9AWFhdPiu7RMU0wh-pQ
VITE_STORAGE_BUCKET_HENG36=game-images

SUPABASE_URL_MAX56=https://aunfaslgmxxdeemvtexn.supabase.co
SUPABASE_ANON_KEY_MAX56=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF1bmZhc2xnbXh4ZGVlbXZ0ZXhuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2Mzg2NjEsImV4cCI6MjA3OTIxNDY2MX0.nDXRfJHkF84hsI748apMFMpiWTNsQ4b9Uq3Kr_9-LXk
VITE_STORAGE_BUCKET_MAX56=game-images

SUPABASE_URL_JEED24=https://pyrtleftkrjxvwlbvfma.supabase.co
SUPABASE_ANON_KEY_JEED24=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB5cnRsZWZ0a3JqeHZ3bGJ2Zm1hIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NDc1NDIsImV4cCI6MjA3OTIyMzU0Mn0.bCJyNlHw7nWue_jQGs7_4sgpbLDTcR8YARA3kr790Js
VITE_STORAGE_BUCKET_JEED24=game-images

SUPABASE_URL=https://ipflzfxezdzbmoqglknu.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlwZmx6ZnhlemR6Ym1vcWdsa251Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2MTAyMTgsImV4cCI6MjA3OTE4NjIxOH0.Jvq2bDs9GMZbw77KtoesdtwF9AWFhdPiu7RMU0wh-pQ
VITE_STORAGE_BUCKET=game-images

